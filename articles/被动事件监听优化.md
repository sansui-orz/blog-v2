# 被动事件监听优化

[tag]:web|js
[create]:2022-09-02

## 背景

由于js的事件监听可以禁止浏览器的默认行为（preventDefault），导致浏览器在滚动的时候如果有事件监听时，因为无法知道回调是否会阻止滚动，所以只能等待回调执行之后才滚动。

如果回调是个稍微耗时的操作，加上频繁的调用，那么滚动时就会有很明显的卡顿。

当然，也不仅仅是在滚动的时候，像拖拽，resize等也会很经常能让人感觉到卡顿。

## 解决

解决其实也很简单，只要告诉`addEventListener`你不会阻止事件的默认行为即可。

`addEventListener`拥有三个参数:
1. `type` - 监听的事件名
2. `listener` - 监听回调
3. `options` - 可选配置参数

而第三个参数`options`我们一般只会传`true` or `false`, 比较少用到对象形式的传参。
当传入的是一个`boolean`值时，